% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/parallel_neighbouring.R
\name{line_ext_listw_gridded.mc}
\alias{line_ext_listw_gridded.mc}
\title{generate listw object (spdep like) based on network distances using
multiple processes}
\usage{
line_ext_listw_gridded.mc(
  lines,
  maxdistance,
  line_weight = "length",
  dist_func = "inverse",
  matrice_type = "B",
  grid_shape = c(2, 2),
  verbose = "progressbar",
  mindist = 10,
  digits = 3
)
}
\arguments{
\item{lines}{A SpatialLinesDataFrame}

\item{maxdistance}{The maximum distance between two observation to
considere them as neighbours.}

\item{line_weight}{The ponderation to use for lines. Default is "length"
(the geographical length), but can be the name of a column. The value is
considered proportional with the geographical length of the lines.}

\item{dist_func}{Indicates the function to use to convert the distance
between observation in spatial weights. Can be 'identity', 'inverse',
'squared inverse' or a function with one parameter x that will be
vectorized internally}

\item{matrice_type}{The type of the weighting scheme. Can be 'B' for Binary,
'W' for row weighted, see the documentation of spdep::nb2listw for details}

\item{grid_shape}{A vector of length 2 indicating the shape of the grid to
use for splitting the dataset. Default is c(2,2)}

\item{verbose}{A string indicating how the advance of the process is
displayed. Default is progressbar "progressbar" shows main steps and
progress bar for intermediar steps, "silent" show nothing}

\item{mindist}{Indicates the minimum value to replace 0 with. Two lines that
share a vertex have a 0 distance between them, wich could create some
trouble in the weightings of the neighbouring object.}

\item{digits}{the number of digits to keep in the spatial coordinates (
simplification used to reduce risk of topological error)}
}
\value{
A listw object (spdep like)
}
\description{
The distances are calculated from the start and end point of each
line to each start and end point of each other lines. The minimum
distance is keeped.
}
\examples{
data(mtl_network)
future::plan(future::multiprocess(workers=2))
listw <- line_ext_listw_gridded.mc(mtl_network,maxdistance=800,
        dist_func = 'squared inverse', matrice_type='B',
        grid_shape = c(5,5),
        mindist = 10)
\dontshow{
   ## R CMD check: make sure any open connections are closed afterward
   if (!inherits(future::plan(), "sequential")) future::plan(future::sequential)
}
}
